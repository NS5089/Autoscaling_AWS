---
  AWSTemplateFormatVersion: "2010-09-09"
  Description: "Cloudformation template for launch an autoscaling group."

#Declaring a launch configuration

mySimpleConfig:
  Type: AWS::AutoScaling::LaunchConfiguration
  Properties:
    ImageId: ami-029bfac3973c1bda1
	InstanceType: t2.medium
    SecurityGroups:
    - Ref: AutoScaling-SecurityGroups for LaunchConfiguration
     Properties:
        GroupDescription: " singtel Security Group for launch configuration ."
        SecurityGroupIngress:
		    - IpProtocol: "tcp"
          FromPort: "3389"
          ToPort: "3389"
          CidrIp: "0.0.0.0/0"
        - IpProtocol: "tcp"
          FromPort: "22"
          ToPort: "22"
          CidrIp: "0.0.0.0/0"
        - IpProtocol: "tcp"
          FromPort: "80"
          ToPort: "80"
          CidrIp: "0.0.0.0/0"
        - IpProtocol: "tcp"
          FromPort: "443"
          ToPort: "443"
          CidrIp: "0.0.0.0/0"
		    - IpProtocol: "tcp"
          FromPort: "8080"
          ToPort: "8080"
          CidrIp: "0.0.0.0/0"
		
    Parameters:
    KeyPair:
      Description: "Specify the key pair to launch the configuration ."
      Type: AWS::EC2::KeyPair::KeyName
      ConstraintDescription: "Proceed without a key pair."
